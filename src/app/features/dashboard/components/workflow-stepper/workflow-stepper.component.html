<div class="card stepper">
  <div class="stepper__header">
    <div>
      <h3>{{ workflowName }}</h3>
      <p>Step {{ activeStepLabel }} of {{ totalSteps }}</p>
    </div>
    <span class="badge badge-gradient">{{ statusLabel() }}</span>
  </div>

  <div class="stepper__list">
    <div
      *ngFor="let step of stepsToRender; index as index"
      class="stepper__item"
      [class.stepper__item--active]="statusOf(step) === 'active'"
      [class.stepper__item--completed]="statusOf(step) === 'completed'"
      (click)="setActive(step.sequence || step.id)"
    >
      <div
        *ngIf="index < stepsToRender.length - 1"
        class="stepper__connector"
        [class.stepper__connector--completed]="statusOf(step) === 'completed'"
      ></div>

      <div class="stepper__icon">
        <mat-icon>{{ step.icon }}</mat-icon>
      </div>

      <div class="stepper__content">
        <h4>{{ step.title }}</h4>
        <p>{{ step.description }}</p>

        <button *ngIf="statusOf(step) === 'active'" type="button" class="btn btn-gradient btn-sm">
          Continue
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>

      <div class="stepper__status">
        <mat-icon *ngIf="statusOf(step) === 'completed'">check_circle</mat-icon>
        <div *ngIf="statusOf(step) === 'active'" class="stepper__pulse"></div>
      </div>
    </div>
  </div>
</div>


